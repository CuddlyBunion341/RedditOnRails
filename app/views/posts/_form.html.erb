<div class="form-wrapper post-form" data-controller="post-form">
  <h1>Create Post</h1>
  <%= form_with model: @post do |f| %>
    <div class="post-form__tabs tabs" data-target="post-form.tabs">
      <%= tab_button f, 1, icon("fa", "font"), true %>
      <%= tab_button f, 2, icon("fa", "image") %>
      <%= tab_button f, 3, icon("fa", "link") %>
    </div>
    <div class="post-form__main">
      <div class="field">
        <%= f.label :title %><br>
        <%= f.text_field :title, class: error_class(@post, :title) %>
        <%= form_error(@post, :title) %>
      </div>
      <div class="tab-wrapper" data-target="post-form.wrapper">
        <div id="tab1" class="tab">
          <%= f.label :body %><br>
          <%= f.text_area :body, class: error_class(@post, :body) %>
          <%= form_error(@post, :body) %>
        </div>
        <div id="tab2" class="tab hidden">
          <%= f.label :upload %>
          <%= f.file_field :upload %>
        </div>
        <div id="tab3" class="tab hidden">
          <%= f.label :url %>
          <%= f.text_field :url %>
        </div>
      </div>
      <div class="field">
        <% if @post.draft? %>
          <%= f.submit 'Publish', name: :publish %>
        <% else %>
          <%= f.submit 'Post' %>
        <% end %>
        <%= f.submit 'Save Draft', name: :draft %>
      </div>
    </div>
  <% end %>
</div>
